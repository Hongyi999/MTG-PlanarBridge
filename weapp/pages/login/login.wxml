<view class="login-page">

  <view class="login-header">
    <text class="login-title">登录 PlanarBridge</text>
    <text class="login-sub">MTG & FAB 卡牌价格追踪</text>
  </view>

  <view class="login-card">
    <!-- Phone input -->
    <view class="login-field">
      <text class="login-label">手机号</text>
      <input
        class="login-input"
        type="number"
        placeholder="请输入手机号"
        maxlength="11"
        value="{{phone}}"
        bindinput="onPhoneInput"
      />
    </view>

    <!-- Code input -->
    <view class="login-field">
      <text class="login-label">验证码</text>
      <view class="code-row">
        <input
          class="login-input code-input"
          type="number"
          placeholder="6位验证码"
          maxlength="6"
          value="{{code}}"
          bindinput="onCodeInput"
        />
        <view
          class="send-code-btn {{countdown > 0 ? 'disabled' : ''}}"
          bindtap="sendCode"
        >
          <text>{{countdown > 0 ? countdown + 's后重发' : '获取验证码'}}</text>
        </view>
      </view>
    </view>

    <!-- Login button -->
    <view class="login-btn {{loading ? 'loading' : ''}}" bindtap="login">
      <text>{{loading ? '登录中...' : '登录'}}</text>
    </view>
  </view>

</view>
